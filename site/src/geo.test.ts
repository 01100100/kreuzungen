import { findIntersectingFeatures } from "./geo";
import { FeatureCollection, LineString, MultiLineString, Feature } from "geojson";

describe("findIntersectingFeatures", () => {

    const waterwaysGeoJSON: FeatureCollection<LineString | MultiLineString>
        = {
        type: "FeatureCollection",
        features: [
            {
                type: "Feature",
                id: "relation/412171",
                properties: {
                    destination: "Teltowkanal",
                    name: "Neuk√∂llner Schiffahrtskanal",
                    "ref:fgkz": "582962",
                    type: "waterway",
                    waterway: "canal",
                    wikidata: "Q316287",
                    wikipedia: "de:Neuk√∂llner Schifffahrtskanal",
                    id: "relation/412171",
                },
                geometry: {
                    type: "LineString",
                    coordinates: [
                        [13.4559204, 52.4592219],
                        [13.4557305, 52.4596799],
                        [13.4554335, 52.4603299],
                        [13.4553056, 52.4606098],
                        [13.4549035, 52.4610408],
                        [13.4535029, 52.4624768],
                        [13.452945, 52.4631631],
                        [13.4527733, 52.4635096],
                        [13.4527087, 52.4639055],
                        [13.4527197, 52.4643397],
                        [13.4527948, 52.4647515],
                        [13.4530662, 52.4652692],
                        [13.4531488, 52.4654836],
                        [13.4537363, 52.4661414],
                        [13.4542227, 52.4667583],
                        [13.4558795, 52.4688577],
                        [13.456081, 52.4691108],
                        [13.4570108, 52.4702678],
                        [13.4572257, 52.4705571],
                        [13.4577072, 52.4729735],
                        [13.4584945, 52.4766938],
                        [13.4583681, 52.477583],
                        [13.4577951, 52.478103],
                        [13.4573513, 52.4783424],
                        [13.4553175, 52.479379],
                        [13.4520087, 52.4810606],
                        [13.4469926, 52.4836501],
                        [13.4444444, 52.4849615],
                        [13.443965, 52.4852038],
                        [13.4414115, 52.4864713],
                        [13.4408944, 52.4867995],
                        [13.4405102, 52.4871396],
                        [13.4403436, 52.4873949],
                        [13.4401026, 52.4878694],
                        [13.4397285, 52.4889224],
                        [13.4394921, 52.4895416],
                        [13.4394556, 52.4896356],
                        [13.4394402, 52.489675],
                        [13.4390846, 52.4906314],
                    ],
                },
            },
            {
                type: "Feature",
                id: "way/160175124",
                properties: {
                    alt_name: "Neuk√∂llner Verbindungskanal",
                    boat: "yes",
                    draft: "2",
                    maxspeed: "8",
                    name: "Neuk√∂llner Schifffahrtskanal",
                    old_name: "Neuk√∂llner Schiffahrtskanal",
                    waterway: "canal",
                    wikidata: "Q316287",
                    id: "way/160175124",
                },
                geometry: {
                    type: "LineString",
                    coordinates: [
                        [13.4542227, 52.4667583],
                        [13.4558795, 52.4688577],
                        [13.456081, 52.4691108],
                        [13.4570108, 52.4702678],
                        [13.4572257, 52.4705571],
                        [13.4577072, 52.4729735],
                        [13.4584945, 52.4766938],
                        [13.4583681, 52.477583],
                        [13.4577951, 52.478103],
                        [13.4573513, 52.4783424],
                        [13.4553175, 52.479379],
                        [13.4520087, 52.4810606],
                        [13.4469926, 52.4836501],
                        [13.4444444, 52.4849615],
                        [13.443965, 52.4852038],
                        [13.4414115, 52.4864713],
                        [13.4408944, 52.4867995],
                        [13.4405102, 52.4871396],
                        [13.4403436, 52.4873949],
                        [13.4401026, 52.4878694],
                        [13.4397285, 52.4889224],
                        [13.4394921, 52.4895416],
                        [13.4394556, 52.4896356],
                        [13.4394402, 52.489675],
                        [13.4390846, 52.4906314],
                    ],
                },
            },
        ],
    };

    const routeGeoJSON: Feature<LineString> = {
        "type": "Feature",
        "properties": {
            "name": "The Shawshank Shredemption ü§ô",
            "url": "https://www.strava.com/activities/10561548851"
        },
        "geometry": {
            "type": "LineString",
            "coordinates": [
                [
                    11.41081,
                    47.01317
                ],
                [
                    11.41068,
                    47.01321
                ],
                [
                    11.41059,
                    47.01349
                ],
                [
                    11.41047,
                    47.01354
                ],
                [
                    11.41034,
                    47.01351
                ],
                [
                    11.40972,
                    47.01276
                ],
                [
                    11.40914,
                    47.01235
                ],
                [
                    11.40857,
                    47.01206
                ],
                [
                    11.40706,
                    47.01157
                ],
                [
                    11.40654,
                    47.01128
                ],
                [
                    11.40627,
                    47.01105
                ],
                [
                    11.40555,
                    47.01013
                ],
                [
                    11.40532,
                    47.00931
                ],
                [
                    11.40445,
                    47.00845
                ],
                [
                    11.40355,
                    47.00787
                ],
                [
                    11.40355,
                    47.00753
                ],
                [
                    11.40378,
                    47.00734
                ],
                [
                    11.40377,
                    47.00725
                ],
                [
                    11.40345,
                    47.00683
                ],
                [
                    11.40334,
                    47.00677
                ],
                [
                    11.40309,
                    47.0067
                ],
                [
                    11.4028,
                    47.00674
                ],
                [
                    11.40267,
                    47.00671
                ],
                [
                    11.40249,
                    47.00634
                ],
                [
                    11.40235,
                    47.00627
                ],
                [
                    11.40251,
                    47.00592
                ],
                [
                    11.40242,
                    47.00574
                ],
                [
                    11.40225,
                    47.0056
                ],
                [
                    11.40199,
                    47.00562
                ],
                [
                    11.40185,
                    47.00545
                ],
                [
                    11.40277,
                    47.00225
                ],
                [
                    11.40291,
                    47.00227
                ],
                [
                    11.40338,
                    47.00207
                ],
                [
                    11.40373,
                    47.00179
                ],
                [
                    11.40407,
                    47.00109
                ],
                [
                    11.40446,
                    47.0007
                ],
                [
                    11.4048,
                    47.00055
                ],
                [
                    11.40493,
                    47.00034
                ],
                [
                    11.40551,
                    46.99981
                ],
                [
                    11.40606,
                    46.99919
                ],
                [
                    11.40624,
                    46.99884
                ],
                [
                    11.40641,
                    46.9988
                ],
                [
                    11.40603,
                    46.99838
                ],
                [
                    11.40612,
                    46.99831
                ],
                [
                    11.40661,
                    46.99762
                ],
                [
                    11.40668,
                    46.99726
                ],
                [
                    11.40651,
                    46.997
                ],
                [
                    11.40585,
                    46.99655
                ],
                [
                    11.4058,
                    46.99645
                ],
                [
                    11.40569,
                    46.99598
                ],
                [
                    11.40575,
                    46.99552
                ],
                [
                    11.40599,
                    46.9954
                ],
                [
                    11.40594,
                    46.99549
                ],
                [
                    11.40582,
                    46.99543
                ],
                [
                    11.40605,
                    46.99554
                ],
                [
                    11.40595,
                    46.99546
                ],
                [
                    11.40582,
                    46.99553
                ],
                [
                    11.40578,
                    46.99562
                ],
                [
                    11.40582,
                    46.99551
                ],
                [
                    11.40594,
                    46.99554
                ],
                [
                    11.40587,
                    46.99562
                ],
                [
                    11.40575,
                    46.99556
                ],
                [
                    11.40585,
                    46.9955
                ],
                [
                    11.40596,
                    46.99558
                ],
                [
                    11.40584,
                    46.99566
                ],
                [
                    11.40578,
                    46.99556
                ],
                [
                    11.40561,
                    46.99554
                ],
                [
                    11.40596,
                    46.99547
                ],
                [
                    11.40573,
                    46.99536
                ],
                [
                    11.40568,
                    46.9946
                ],
                [
                    11.40586,
                    46.99423
                ],
                [
                    11.40586,
                    46.99404
                ],
                [
                    11.40595,
                    46.99396
                ],
                [
                    11.40607,
                    46.99393
                ],
                [
                    11.40676,
                    46.99403
                ],
                [
                    11.40729,
                    46.9939
                ],
                [
                    11.40784,
                    46.99396
                ],
                [
                    11.40778,
                    46.99388
                ],
                [
                    11.40756,
                    46.99378
                ],
                [
                    11.40736,
                    46.99314
                ],
                [
                    11.40693,
                    46.99264
                ],
                [
                    11.40682,
                    46.99259
                ],
                [
                    11.40699,
                    46.99233
                ],
                [
                    11.40696,
                    46.99204
                ],
                [
                    11.40706,
                    46.99177
                ],
                [
                    11.40782,
                    46.99118
                ],
                [
                    11.40794,
                    46.99082
                ],
                [
                    11.40809,
                    46.99037
                ],
                [
                    11.40793,
                    46.99025
                ],
                [
                    11.40776,
                    46.98993
                ],
                [
                    11.40781,
                    46.98975
                ],
                [
                    11.4079,
                    46.98968
                ],
                [
                    11.40829,
                    46.98974
                ],
                [
                    11.40846,
                    46.9896
                ],
                [
                    11.40843,
                    46.98951
                ],
                [
                    11.40866,
                    46.98941
                ],
                [
                    11.40869,
                    46.98932
                ],
                [
                    11.40881,
                    46.98937
                ],
                [
                    11.40899,
                    46.98901
                ],
                [
                    11.4092,
                    46.98899
                ],
                [
                    11.40931,
                    46.98905
                ],
                [
                    11.40936,
                    46.98887
                ],
                [
                    11.40925,
                    46.98871
                ],
                [
                    11.40937,
                    46.98863
                ],
                [
                    11.40937,
                    46.98849
                ],
                [
                    11.40937,
                    46.9885
                ],
                [
                    11.40928,
                    46.98842
                ],
                [
                    11.40935,
                    46.98862
                ],
                [
                    11.40938,
                    46.98844
                ],
                [
                    11.40947,
                    46.98836
                ],
                [
                    11.40972,
                    46.98828
                ],
                [
                    11.41072,
                    46.98762
                ],
                [
                    11.41084,
                    46.98759
                ],
                [
                    11.41142,
                    46.98715
                ],
                [
                    11.41183,
                    46.98662
                ],
                [
                    11.41204,
                    46.9865
                ],
                [
                    11.41217,
                    46.98634
                ],
                [
                    11.41283,
                    46.98601
                ],
                [
                    11.41322,
                    46.98551
                ],
                [
                    11.41361,
                    46.98513
                ],
                [
                    11.41405,
                    46.98492
                ],
                [
                    11.4146,
                    46.98443
                ],
                [
                    11.41502,
                    46.98421
                ],
                [
                    11.41578,
                    46.98359
                ],
                [
                    11.41618,
                    46.98334
                ],
                [
                    11.41669,
                    46.98269
                ],
                [
                    11.41753,
                    46.98184
                ],
                [
                    11.41788,
                    46.98117
                ],
                [
                    11.41804,
                    46.98101
                ],
                [
                    11.41809,
                    46.98083
                ],
                [
                    11.4183,
                    46.98062
                ],
                [
                    11.41843,
                    46.98035
                ],
                [
                    11.41891,
                    46.97977
                ],
                [
                    11.41892,
                    46.9794
                ],
                [
                    11.41904,
                    46.97914
                ],
                [
                    11.41877,
                    46.97906
                ],
                [
                    11.41862,
                    46.97888
                ],
                [
                    11.41833,
                    46.97895
                ],
                [
                    11.41825,
                    46.97887
                ],
                [
                    11.41823,
                    46.97858
                ],
                [
                    11.4181,
                    46.97799
                ],
                [
                    11.41786,
                    46.97783
                ],
                [
                    11.41748,
                    46.97772
                ],
                [
                    11.41728,
                    46.97759
                ],
                [
                    11.41715,
                    46.97733
                ],
                [
                    11.41737,
                    46.97679
                ],
                [
                    11.41736,
                    46.97647
                ],
                [
                    11.41743,
                    46.97629
                ],
                [
                    11.41781,
                    46.97589
                ],
                [
                    11.41771,
                    46.97572
                ],
                [
                    11.41775,
                    46.97553
                ],
                [
                    11.41762,
                    46.97545
                ],
                [
                    11.41702,
                    46.97462
                ],
                [
                    11.41692,
                    46.97426
                ],
                [
                    11.41628,
                    46.97392
                ],
                [
                    11.41569,
                    46.97369
                ],
                [
                    11.41556,
                    46.97368
                ],
                [
                    11.41526,
                    46.97331
                ],
                [
                    11.41481,
                    46.97297
                ],
                [
                    11.41478,
                    46.97288
                ],
                [
                    11.41466,
                    46.97224
                ],
                [
                    11.41468,
                    46.97151
                ],
                [
                    11.41446,
                    46.97084
                ],
                [
                    11.41445,
                    46.97055
                ],
                [
                    11.41417,
                    46.97009
                ],
                [
                    11.41412,
                    46.96979
                ],
                [
                    11.41401,
                    46.96962
                ],
                [
                    11.41437,
                    46.96956
                ],
                [
                    11.41435,
                    46.96911
                ],
                [
                    11.41428,
                    46.96903
                ],
                [
                    11.41454,
                    46.96897
                ],
                [
                    11.41451,
                    46.96879
                ],
                [
                    11.41432,
                    46.96848
                ],
                [
                    11.41428,
                    46.96805
                ],
                [
                    11.41416,
                    46.96812
                ],
                [
                    11.41426,
                    46.96803
                ],
                [
                    11.41433,
                    46.96851
                ],
                [
                    11.41426,
                    46.9687
                ],
                [
                    11.41413,
                    46.96877
                ],
                [
                    11.41423,
                    46.96884
                ],
                [
                    11.41417,
                    46.96903
                ],
                [
                    11.41444,
                    46.96943
                ],
                [
                    11.4143,
                    46.96947
                ],
                [
                    11.41404,
                    46.96942
                ],
                [
                    11.41397,
                    46.96952
                ],
                [
                    11.41419,
                    46.9697
                ],
                [
                    11.41409,
                    46.97017
                ],
                [
                    11.41483,
                    46.97114
                ],
                [
                    11.41475,
                    46.97136
                ],
                [
                    11.41465,
                    46.97142
                ],
                [
                    11.41475,
                    46.97232
                ],
                [
                    11.41481,
                    46.9724
                ],
                [
                    11.41514,
                    46.97236
                ],
                [
                    11.41523,
                    46.9725
                ],
                [
                    11.41559,
                    46.97353
                ],
                [
                    11.41599,
                    46.97365
                ],
                [
                    11.41615,
                    46.97382
                ],
                [
                    11.41644,
                    46.9738
                ],
                [
                    11.41636,
                    46.97423
                ],
                [
                    11.41658,
                    46.97432
                ],
                [
                    11.41674,
                    46.97424
                ],
                [
                    11.4169,
                    46.97425
                ],
                [
                    11.41675,
                    46.97448
                ],
                [
                    11.41677,
                    46.97481
                ],
                [
                    11.41704,
                    46.97503
                ],
                [
                    11.41708,
                    46.97524
                ],
                [
                    11.41729,
                    46.97531
                ],
                [
                    11.41734,
                    46.9754
                ],
                [
                    11.41721,
                    46.97568
                ],
                [
                    11.41671,
                    46.97594
                ],
                [
                    11.41674,
                    46.97604
                ],
                [
                    11.4175,
                    46.97617
                ],
                [
                    11.41775,
                    46.97631
                ],
                [
                    11.41742,
                    46.97634
                ],
                [
                    11.4175,
                    46.97658
                ],
                [
                    11.41742,
                    46.97667
                ],
                [
                    11.41741,
                    46.9769
                ],
                [
                    11.41731,
                    46.97698
                ],
                [
                    11.41705,
                    46.97757
                ],
                [
                    11.41683,
                    46.97781
                ],
                [
                    11.41676,
                    46.97806
                ],
                [
                    11.41662,
                    46.97825
                ],
                [
                    11.41663,
                    46.97847
                ],
                [
                    11.41639,
                    46.97876
                ],
                [
                    11.41629,
                    46.97894
                ],
                [
                    11.41658,
                    46.97904
                ],
                [
                    11.41621,
                    46.97938
                ],
                [
                    11.41631,
                    46.97953
                ],
                [
                    11.41622,
                    46.97976
                ],
                [
                    11.41641,
                    46.97989
                ],
                [
                    11.41628,
                    46.97995
                ],
                [
                    11.4163,
                    46.98004
                ],
                [
                    11.41643,
                    46.98008
                ],
                [
                    11.41625,
                    46.98024
                ],
                [
                    11.4164,
                    46.98028
                ],
                [
                    11.41608,
                    46.98051
                ],
                [
                    11.41606,
                    46.98065
                ],
                [
                    11.41578,
                    46.98086
                ],
                [
                    11.41585,
                    46.98114
                ],
                [
                    11.41569,
                    46.98142
                ],
                [
                    11.41545,
                    46.98174
                ],
                [
                    11.41518,
                    46.98195
                ],
                [
                    11.41453,
                    46.98226
                ],
                [
                    11.41395,
                    46.9824
                ],
                [
                    11.41358,
                    46.98293
                ],
                [
                    11.4139,
                    46.98287
                ],
                [
                    11.4144,
                    46.98269
                ],
                [
                    11.41529,
                    46.98264
                ],
                [
                    11.41563,
                    46.98283
                ],
                [
                    11.41544,
                    46.9834
                ],
                [
                    11.41547,
                    46.98351
                ],
                [
                    11.41499,
                    46.98426
                ],
                [
                    11.41458,
                    46.98458
                ],
                [
                    11.4142,
                    46.98501
                ],
                [
                    11.41328,
                    46.9855
                ],
                [
                    11.41283,
                    46.98603
                ],
                [
                    11.41244,
                    46.98622
                ],
                [
                    11.41194,
                    46.98662
                ],
                [
                    11.41167,
                    46.98692
                ],
                [
                    11.41152,
                    46.98727
                ],
                [
                    11.41092,
                    46.98757
                ],
                [
                    11.41073,
                    46.98791
                ],
                [
                    11.41041,
                    46.98798
                ],
                [
                    11.41015,
                    46.98817
                ],
                [
                    11.40955,
                    46.98839
                ],
                [
                    11.40942,
                    46.9884
                ],
                [
                    11.40933,
                    46.98847
                ],
                [
                    11.40935,
                    46.98881
                ],
                [
                    11.40925,
                    46.98913
                ],
                [
                    11.40927,
                    46.98923
                ],
                [
                    11.40939,
                    46.9893
                ],
                [
                    11.40911,
                    46.9893
                ],
                [
                    11.40869,
                    46.98941
                ],
                [
                    11.40856,
                    46.98947
                ],
                [
                    11.4084,
                    46.98966
                ],
                [
                    11.40827,
                    46.9897
                ],
                [
                    11.40826,
                    46.9898
                ],
                [
                    11.40808,
                    46.98999
                ],
                [
                    11.40811,
                    46.99037
                ],
                [
                    11.4078,
                    46.99121
                ],
                [
                    11.40732,
                    46.99152
                ],
                [
                    11.40698,
                    46.99188
                ],
                [
                    11.40695,
                    46.99199
                ],
                [
                    11.40695,
                    46.99272
                ],
                [
                    11.40744,
                    46.99325
                ],
                [
                    11.40749,
                    46.99373
                ],
                [
                    11.40755,
                    46.99381
                ],
                [
                    11.40782,
                    46.99392
                ],
                [
                    11.40774,
                    46.994
                ],
                [
                    11.40728,
                    46.99394
                ],
                [
                    11.4068,
                    46.99402
                ],
                [
                    11.40623,
                    46.99393
                ],
                [
                    11.40588,
                    46.99403
                ],
                [
                    11.40567,
                    46.99459
                ],
                [
                    11.40579,
                    46.99491
                ],
                [
                    11.40585,
                    46.99554
                ],
                [
                    11.40569,
                    46.99592
                ],
                [
                    11.40566,
                    46.99648
                ],
                [
                    11.40626,
                    46.99691
                ],
                [
                    11.40642,
                    46.99705
                ],
                [
                    11.40646,
                    46.99722
                ],
                [
                    11.40626,
                    46.99824
                ],
                [
                    11.40593,
                    46.99831
                ],
                [
                    11.40607,
                    46.99883
                ],
                [
                    11.40585,
                    46.99907
                ],
                [
                    11.40551,
                    46.99931
                ],
                [
                    11.40547,
                    46.9994
                ],
                [
                    11.40486,
                    46.99994
                ],
                [
                    11.40421,
                    47.00044
                ],
                [
                    11.4039,
                    47.00143
                ],
                [
                    11.40357,
                    47.00188
                ],
                [
                    11.40316,
                    47.00215
                ],
                [
                    11.40296,
                    47.00237
                ],
                [
                    11.40225,
                    47.00256
                ],
                [
                    11.40184,
                    47.00278
                ],
                [
                    11.40161,
                    47.0031
                ],
                [
                    11.40156,
                    47.00343
                ],
                [
                    11.40165,
                    47.00443
                ],
                [
                    11.40188,
                    47.00484
                ],
                [
                    11.40191,
                    47.00523
                ],
                [
                    11.40219,
                    47.00559
                ],
                [
                    11.40259,
                    47.00581
                ],
                [
                    11.40244,
                    47.0063
                ],
                [
                    11.40272,
                    47.00662
                ],
                [
                    11.40299,
                    47.00673
                ],
                [
                    11.40412,
                    47.00688
                ],
                [
                    11.4047,
                    47.00706
                ],
                [
                    11.40518,
                    47.00714
                ],
                [
                    11.40553,
                    47.0075
                ],
                [
                    11.40598,
                    47.00774
                ],
                [
                    11.4063,
                    47.00799
                ],
                [
                    11.4071,
                    47.00831
                ],
                [
                    11.40734,
                    47.00846
                ],
                [
                    11.40753,
                    47.00864
                ],
                [
                    11.40789,
                    47.00919
                ],
                [
                    11.408,
                    47.0095
                ],
                [
                    11.40811,
                    47.00956
                ],
                [
                    11.40794,
                    47.00941
                ],
                [
                    11.40811,
                    47.00955
                ],
                [
                    11.409,
                    47.01001
                ],
                [
                    11.40931,
                    47.01033
                ],
                [
                    11.40953,
                    47.01044
                ],
                [
                    11.4096,
                    47.01056
                ],
                [
                    11.40942,
                    47.01074
                ],
                [
                    11.40922,
                    47.01079
                ],
                [
                    11.40836,
                    47.01166
                ],
                [
                    11.40837,
                    47.01197
                ],
                [
                    11.40879,
                    47.01213
                ],
                [
                    11.40922,
                    47.01238
                ],
                [
                    11.40982,
                    47.01288
                ],
                [
                    11.4102,
                    47.01335
                ],
                [
                    11.41042,
                    47.01351
                ],
                [
                    11.41076,
                    47.01315
                ],
                [
                    11.41088,
                    47.01319
                ],
                [
                    11.41089,
                    47.01301
                ],
                [
                    11.41081,
                    47.01303
                ]
            ]
        }
    }

    it("should return a FeatureCollection of 2 intersecting kanals  in nk", () => {
        const result = findIntersectingFeatures(waterwaysGeoJSON, routeGeoJSON);
        expect(result.type).toBe("FeatureCollection");
        expect(result.features).toHaveLength(2);
        expect(result.features[0].properties.name).toBe("Neuk√∂llner Schiffahrtskanal");
        expect(result.features[1].properties.name).toBe("Neuk√∂llner Schifffahrtskanal");

    });
});

describe("findIntersectingFeatures", () => {

    const waterwaysGeoJSON: FeatureCollection<LineString | MultiLineString>
        = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "id": "way/150976711",
                "properties": {
                    "name": "Mandlerbach",
                    "source": "GeoImage.at; data.tirol.gv.at",
                    "waterway": "stream",
                    "id": "way/150976711"
                },
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                        [
                            11.4027702,
                            47.0263724
                        ],
                        [
                            11.4027804,
                            47.0263274
                        ],
                        [
                            11.4027728,
                            47.0262772
                        ],
                        [
                            11.4027855,
                            47.0262409
                        ],
                        [
                            11.4028388,
                            47.0261786
                        ],
                        [
                            11.4028819,
                            47.026099
                        ],
                        [
                            11.4028895,
                            47.0260073
                        ],
                        [
                            11.4028895,
                            47.0258689
                        ],
                        [
                            11.4029276,
                            47.0257893
                        ],
                        [
                            11.4030723,
                            47.0256803
                        ],
                        [
                            11.4033744,
                            47.0254813
                        ],
                        [
                            11.4036307,
                            47.0252615
                        ],
                        [
                            11.4039176,
                            47.0250729
                        ],
                        [
                            11.4039963,
                            47.0250158
                        ],
                        [
                            11.4040369,
                            47.024957
                        ],
                        [
                            11.4040724,
                            47.0248549
                        ],
                        [
                            11.4041003,
                            47.024713
                        ],
                        [
                            11.4041257,
                            47.024604
                        ],
                        [
                            11.4042095,
                            47.0244344
                        ],
                        [
                            11.4043821,
                            47.0241852
                        ],
                        [
                            11.4044405,
                            47.0240607
                        ],
                        [
                            11.4044709,
                            47.0240018
                        ],
                        [
                            11.4045369,
                            47.0239586
                        ],
                        [
                            11.4045978,
                            47.023917
                        ],
                        [
                            11.4046486,
                            47.0238772
                        ],
                        [
                            11.4046968,
                            47.0238184
                        ],
                        [
                            11.4047527,
                            47.0237025
                        ],
                        [
                            11.4048161,
                            47.0235779
                        ],
                        [
                            11.4048771,
                            47.0234948
                        ],
                        [
                            11.4049583,
                            47.0234291
                        ],
                        [
                            11.4051791,
                            47.0233027
                        ],
                        [
                            11.4053314,
                            47.0231833
                        ],
                        [
                            11.4055193,
                            47.0230415
                        ],
                        [
                            11.4056944,
                            47.0229186
                        ],
                        [
                            11.4057959,
                            47.0228442
                        ],
                        [
                            11.4058569,
                            47.0227767
                        ],
                        [
                            11.4058924,
                            47.0227023
                        ],
                        [
                            11.4058975,
                            47.0226123
                        ],
                        [
                            11.4059152,
                            47.0225483
                        ],
                        [
                            11.4059508,
                            47.0224531
                        ],
                        [
                            11.4060371,
                            47.0223372
                        ],
                        [
                            11.4061716,
                            47.022152
                        ],
                        [
                            11.4062554,
                            47.0220724
                        ],
                        [
                            11.4063874,
                            47.0219876
                        ],
                        [
                            11.4064813,
                            47.0219167
                        ],
                        [
                            11.4066564,
                            47.0217488
                        ],
                        [
                            11.4067478,
                            47.0216588
                        ],
                        [
                            11.4068443,
                            47.0215187
                        ],
                        [
                            11.4068824,
                            47.0214149
                        ],
                        [
                            11.4069484,
                            47.0212747
                        ],
                        [
                            11.407022,
                            47.0211743
                        ],
                        [
                            11.4071184,
                            47.0210463
                        ],
                        [
                            11.4071667,
                            47.0209476
                        ],
                        [
                            11.4071743,
                            47.020868
                        ],
                        [
                            11.4071438,
                            47.0207919
                        ],
                        [
                            11.4071184,
                            47.0207002
                        ],
                        [
                            11.4071111,
                            47.0205949
                        ],
                        [
                            11.4071514,
                            47.0204493
                        ],
                        [
                            11.4072073,
                            47.0203852
                        ],
                        [
                            11.4072707,
                            47.0202935
                        ],
                        [
                            11.4073266,
                            47.0202433
                        ],
                        [
                            11.407456,
                            47.0201378
                        ],
                        [
                            11.4075956,
                            47.0200582
                        ],
                        [
                            11.4076743,
                            47.0200011
                        ],
                        [
                            11.4077835,
                            47.0199699
                        ],
                        [
                            11.4078171,
                            47.0199492
                        ],
                        [
                            11.4079535,
                            47.0198124
                        ],
                        [
                            11.408017,
                            47.0197467
                        ],
                        [
                            11.4081058,
                            47.0196844
                        ],
                        [
                            11.4082328,
                            47.019539
                        ],
                        [
                            11.4083108,
                            47.0194295
                        ],
                        [
                            11.4087303,
                            47.0190891
                        ],
                        [
                            11.4087683,
                            47.0190268
                        ],
                        [
                            11.4088267,
                            47.0189835
                        ],
                        [
                            11.408913,
                            47.0189524
                        ],
                        [
                            11.4089866,
                            47.018871
                        ],
                        [
                            11.4090501,
                            47.0188381
                        ],
                        [
                            11.4091516,
                            47.0187758
                        ],
                        [
                            11.4092252,
                            47.0186893
                        ],
                        [
                            11.4092633,
                            47.0185699
                        ],
                        [
                            11.4093169,
                            47.0184624
                        ],
                        [
                            11.4093928,
                            47.0183501
                        ],
                        [
                            11.4094613,
                            47.0182844
                        ],
                        [
                            11.4096314,
                            47.0181459
                        ],
                        [
                            11.4097761,
                            47.0180404
                        ],
                        [
                            11.4098543,
                            47.0179128
                        ],
                        [
                            11.4098954,
                            47.0177894
                        ],
                        [
                            11.4099081,
                            47.0177029
                        ],
                        [
                            11.4099411,
                            47.0176475
                        ],
                        [
                            11.4100604,
                            47.0175333
                        ],
                        [
                            11.4101517,
                            47.0174762
                        ],
                        [
                            11.4102685,
                            47.0174277
                        ],
                        [
                            11.4103726,
                            47.0173585
                        ],
                        [
                            11.410431,
                            47.0172997
                        ],
                        [
                            11.4104716,
                            47.0172253
                        ],
                        [
                            11.4105427,
                            47.0171803
                        ],
                        [
                            11.4106569,
                            47.017111
                        ],
                        [
                            11.4108117,
                            47.0170349
                        ],
                        [
                            11.4109615,
                            47.0169899
                        ],
                        [
                            11.4110605,
                            47.0169795
                        ],
                        [
                            11.4111544,
                            47.0169622
                        ],
                        [
                            11.411261,
                            47.0168705
                        ],
                        [
                            11.4114463,
                            47.016694
                        ],
                        [
                            11.4115354,
                            47.0165877
                        ],
                        [
                            11.4115808,
                            47.0164898
                        ],
                        [
                            11.4116229,
                            47.0163364
                        ],
                        [
                            11.4116341,
                            47.0162509
                        ],
                        [
                            11.4116874,
                            47.0161557
                        ],
                        [
                            11.4118474,
                            47.0159723
                        ],
                        [
                            11.4137601,
                            47.0138609
                        ],
                        [
                            11.4150837,
                            47.0132209
                        ]
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "collectedProperties": [
                        {
                            "name": "Gr√ºnerbach",
                            "source": "based on aerialview of (c) http://tiris.tirol.gv.at 2019",
                            "waterway": "stream",
                            "id": "way/207168058"
                        },
                        {
                            "layer": "-1",
                            "name": "Gr√ºnerbach",
                            "source": "based on aerialview of (c) http://tiris.tirol.gv.at 2019",
                            "tunnel": "culvert",
                            "waterway": "stream",
                            "id": "way/945594048"
                        },
                        {
                            "name": "Gr√ºnerbach",
                            "source": "based on aerialview of (c) http://tiris.tirol.gv.at 2019",
                            "waterway": "stream",
                            "id": "way/945594049"
                        }
                    ],
                    "name": "Gr√ºnerbach"
                },
                "geometry": {
                    "type": "MultiLineString",
                    "coordinates": [
                        [
                            [
                                11.4026084,
                                47.0177803
                            ],
                            [
                                11.4029883,
                                47.0175076
                            ],
                            [
                                11.4032792,
                                47.0173653
                            ],
                            [
                                11.4035837,
                                47.017251
                            ],
                            [
                                11.4039431,
                                47.0171506
                            ],
                            [
                                11.4042271,
                                47.0170573
                            ],
                            [
                                11.4046755,
                                47.016887
                            ],
                            [
                                11.4051477,
                                47.0166536
                            ],
                            [
                                11.4053633,
                                47.0164763
                            ],
                            [
                                11.4056453,
                                47.0163583
                            ],
                            [
                                11.4062321,
                                47.015933
                            ],
                            [
                                11.4064367,
                                47.0157615
                            ],
                            [
                                11.4067687,
                                47.0153705
                            ],
                            [
                                11.40698,
                                47.0152311
                            ],
                            [
                                11.4074115,
                                47.0146204
                            ],
                            [
                                11.407644,
                                47.0142479
                            ],
                            [
                                11.408033,
                                47.0139346
                            ],
                            [
                                11.4082342,
                                47.01377
                            ],
                            [
                                11.408432,
                                47.0136923
                            ],
                            [
                                11.4087607,
                                47.013642
                            ],
                            [
                                11.4088948,
                                47.0135848
                            ],
                            [
                                11.4091027,
                                47.0134568
                            ],
                            [
                                11.4094213,
                                47.0132464
                            ],
                            [
                                11.4097695,
                                47.012999
                            ]
                        ],
                        [
                            [
                                11.4097695,
                                47.012999
                            ],
                            [
                                11.4098936,
                                47.0129405
                            ]
                        ],
                        [
                            [
                                11.4098936,
                                47.0129405
                            ],
                            [
                                11.4099713,
                                47.0129057
                            ],
                            [
                                11.4102228,
                                47.0126771
                            ],
                            [
                                11.4103201,
                                47.0126153
                            ],
                            [
                                11.4103871,
                                47.0125993
                            ],
                            [
                                11.4106454,
                                47.012469
                            ],
                            [
                                11.411078,
                                47.0120117
                            ],
                            [
                                11.4112591,
                                47.0117556
                            ],
                            [
                                11.4114167,
                                47.0116115
                            ],
                            [
                                11.4117017,
                                47.0113165
                            ],
                            [
                                11.4117319,
                                47.0112388
                            ]
                        ]
                    ]
                }
            }
        ]
    }

    const routeGeoJSON: Feature<LineString> =
    {
        "type": "Feature",
        "properties": {
            "name": "The Shawshank Shredemption ü§ô",
            "url": "https://www.strava.com/activities/10561548851"
        },
        "geometry": {
            "type": "LineString",
            "coordinates": [
                [11.41081, 47.01317],
                [11.41068, 47.01321],
                [11.41059, 47.01349],
                [11.41047, 47.01354],
                [11.41034, 47.01351],
                [11.40972, 47.01276],
                [11.40914, 47.01235],
                [11.40857, 47.01206],
                [11.40706, 47.01157],
                [11.40654, 47.01128],
                [11.40627, 47.01105],
                [11.40555, 47.01013],
                [11.40532, 47.00931],
                [11.40445, 47.00845],
                [11.40355, 47.00787],
                [11.40355, 47.00753],
                [11.40378, 47.00734],
                [11.40377, 47.00725],
                [11.40345, 47.00683],
                [11.40334, 47.00677],
                [11.40309, 47.0067],
                [11.4028, 47.00674],
                [11.40267, 47.00671],
                [11.40249, 47.00634],
                [11.40235, 47.00627],
                [11.40251, 47.00592],
                [11.40242, 47.00574],
                [11.40225, 47.0056],
                [11.40199, 47.00562],
                [11.40185, 47.00545],
                [11.40277, 47.00225],
                [11.40291, 47.00227],
                [11.40338, 47.00207],
                [11.40373, 47.00179],
                [11.40407, 47.00109],
                [11.40446, 47.0007],
                [11.4048, 47.00055],
                [11.40493, 47.00034],
                [11.40551, 46.99981],
                [11.40606, 46.99919],
                [11.40624, 46.99884],
                [11.40641, 46.9988],
                [11.40603, 46.99838],
                [11.40612, 46.99831],
                [11.40661, 46.99762],
                [11.40668, 46.99726],
                [11.40651, 46.997],
                [11.40585, 46.99655],
                [11.4058, 46.99645],
                [11.40569, 46.99598],
                [11.40575, 46.99552],
                [11.40599, 46.9954],
                [11.40594, 46.99549],
                [11.40582, 46.99543],
                [11.40605, 46.99554],
                [11.40595, 46.99546],
                [11.40582, 46.99553],
                [11.40578, 46.99562],
                [11.40582, 46.99551],
                [11.40594, 46.99554],
                [11.40587, 46.99562],
                [11.40575, 46.99556],
                [11.40585, 46.9955],
                [11.40596, 46.99558],
                [11.40584, 46.99566],
                [11.40578, 46.99556],
                [11.40561, 46.99554],
                [11.40596, 46.99547],
                [11.40573, 46.99536],
                [11.40568, 46.9946],
                [11.40586, 46.99423],
                [11.40586, 46.99404],
                [11.40595, 46.99396],
                [11.40607, 46.99393],
                [11.40676, 46.99403],
                [11.40729, 46.9939],
                [11.40784, 46.99396],
                [11.40778, 46.99388],
                [11.40756, 46.99378],
                [11.40736, 46.99314],
                [11.40693, 46.99264],
                [11.40682, 46.99259],
                [11.40699, 46.99233],
                [11.40696, 46.99204],
                [11.40706, 46.99177],
                [11.40782, 46.99118],
                [11.40794, 46.99082],
                [11.40809, 46.99037],
                [11.40793, 46.99025],
                [11.40776, 46.98993],
                [11.40781, 46.98975],
                [11.4079, 46.98968],
                [11.40829, 46.98974],
                [11.40846, 46.9896],
                [11.40843, 46.98951],
                [11.40866, 46.98941],
                [11.40869, 46.98932],
                [11.40881, 46.98937],
                [11.40899, 46.98901],
                [11.4092, 46.98899],
                [11.40931, 46.98905],
                [11.40936, 46.98887],
                [11.40925, 46.98871],
                [11.40937, 46.98863],
                [11.40937, 46.98849],
                [11.40937, 46.9885],
                [11.40928, 46.98842],
                [11.40935, 46.98862],
                [11.40938, 46.98844],
                [11.40947, 46.98836],
                [11.40972, 46.98828],
                [11.41072, 46.98762],
                [11.41084, 46.98759],
                [11.41142, 46.98715],
                [11.41183, 46.98662],
                [11.41204, 46.9865],
                [11.41217, 46.98634],
                [11.41283, 46.98601],
                [11.41322, 46.98551],
                [11.41361, 46.98513],
                [11.41405, 46.98492],
                [11.4146, 46.98443],
                [11.41502, 46.98421],
                [11.41578, 46.98359],
                [11.41618, 46.98334],
                [11.41669, 46.98269],
                [11.41753, 46.98184],
                [11.41788, 46.98117],
                [11.41804, 46.98101],
                [11.41809, 46.98083],
                [11.4183, 46.98062],
                [11.41843, 46.98035],
                [11.41891, 46.97977],
                [11.41892, 46.9794],
                [11.41904, 46.97914],
                [11.41877, 46.97906],
                [11.41862, 46.97888],
                [11.41833, 46.97895],
                [11.41825, 46.97887],
                [11.41823, 46.97858],
                [11.4181, 46.97799],
                [11.41786, 46.97783],
                [11.41748, 46.97772],
                [11.41728, 46.97759],
                [11.41715, 46.97733],
                [11.41737, 46.97679],
                [11.41736, 46.97647],
                [11.41743, 46.97629],
                [11.41781, 46.97589],
                [11.41771, 46.97572],
                [11.41775, 46.97553],
                [11.41762, 46.97545],
                [11.41702, 46.97462],
                [11.41692, 46.97426],
                [11.41628, 46.97392],
                [11.41569, 46.97369],
                [11.41556, 46.97368],
                [11.41526, 46.97331],
                [11.41481, 46.97297],
                [11.41478, 46.97288],
                [11.41466, 46.97224],
                [11.41468, 46.97151],
                [11.41446, 46.97084],
                [11.41445, 46.97055],
                [11.41417, 46.97009],
                [11.41412, 46.96979],
                [11.41401, 46.96962],
                [11.41437, 46.96956],
                [11.41435, 46.96911],
                [11.41428, 46.96903],
                [11.41454, 46.96897],
                [11.41451, 46.96879],
                [11.41432, 46.96848],
                [11.41428, 46.96805],
                [11.41416, 46.96812],
                [11.41426, 46.96803],
                [11.41433, 46.96851],
                [11.41426, 46.9687],
                [11.41413, 46.96877],
                [11.41423, 46.96884],
                [11.41417, 46.96903],
                [11.41444, 46.96943],
                [11.4143, 46.96947],
                [11.41404, 46.96942],
                [11.41397, 46.96952],
                [11.41419, 46.9697],
                [11.41409, 46.97017],
                [11.41483, 46.97114],
                [11.41475, 46.97136],
                [11.41465, 46.97142],
                [11.41475, 46.97232],
                [11.41481, 46.9724],
                [11.41514, 46.97236],
                [11.41523, 46.9725],
                [11.41559, 46.97353],
                [11.41599, 46.97365],
                [11.41615, 46.97382],
                [11.41644, 46.9738],
                [11.41636, 46.97423],
                [11.41658, 46.97432],
                [11.41674, 46.97424],
                [11.4169, 46.97425],
                [11.41675, 46.97448],
                [11.41677, 46.97481],
                [11.41704, 46.97503],
                [11.41708, 46.97524],
                [11.41729, 46.97531],
                [11.41734, 46.9754],
                [11.41721, 46.97568],
                [11.41671, 46.97594],
                [11.41674, 46.97604],
                [11.4175, 46.97617],
                [11.41775, 46.97631],
                [11.41742, 46.97634],
                [11.4175, 46.97658],
                [11.41742, 46.97667],
                [11.41741, 46.9769],
                [11.41731, 46.97698],
                [11.41705, 46.97757],
                [11.41683, 46.97781],
                [11.41676, 46.97806],
                [11.41662, 46.97825],
                [11.41663, 46.97847],
                [11.41639, 46.97876],
                [11.41629, 46.97894],
                [11.41658, 46.97904],
                [11.41621, 46.97938],
                [11.41631, 46.97953],
                [11.41622, 46.97976],
                [11.41641, 46.97989],
                [11.41628, 46.97995],
                [11.4163, 46.98004],
                [11.41643, 46.98008],
                [11.41625, 46.98024],
                [11.4164, 46.98028],
                [11.41608, 46.98051],
                [11.41606, 46.98065],
                [11.41578, 46.98086],
                [11.41585, 46.98114],
                [11.41569, 46.98142],
                [11.41545, 46.98174],
                [11.41518, 46.98195],
                [11.41453, 46.98226],
                [11.41395, 46.9824],
                [11.41358, 46.98293],
                [11.4139, 46.98287],
                [11.4144, 46.98269],
                [11.41529, 46.98264],
                [11.41563, 46.98283],
                [11.41544, 46.9834],
                [11.41547, 46.98351],
                [11.41499, 46.98426],
                [11.41458, 46.98458],
                [11.4142, 46.98501],
                [11.41328, 46.9855],
                [11.41283, 46.98603],
                [11.41244, 46.98622],
                [11.41194, 46.98662],
                [11.41167, 46.98692],
                [11.41152, 46.98727],
                [11.41092, 46.98757],
                [11.41073, 46.98791],
                [11.41041, 46.98798],
                [11.41015, 46.98817],
                [11.40955, 46.98839],
                [11.40942, 46.9884],
                [11.40933, 46.98847],
                [11.40935, 46.98881],
                [11.40925, 46.98913],
                [11.40927, 46.98923],
                [11.40939, 46.9893],
                [11.40911, 46.9893],
                [11.40869, 46.98941],
                [11.40856, 46.98947],
                [11.4084, 46.98966],
                [11.40827, 46.9897],
                [11.40826, 46.9898],
                [11.40808, 46.98999],
                [11.40811, 46.99037],
                [11.4078, 46.99121],
                [11.40732, 46.99152],
                [11.40698, 46.99188],
                [11.40695, 46.99199],
                [11.40695, 46.99272],
                [11.40744, 46.99325],
                [11.40749, 46.99373],
                [11.40755, 46.99381],
                [11.40782, 46.99392],
                [11.40774, 46.994],
                [11.40728, 46.99394],
                [11.4068, 46.99402],
                [11.40623, 46.99393],
                [11.40588, 46.99403],
                [11.40567, 46.99459],
                [11.40579, 46.99491],
                [11.40585, 46.99554],
                [11.40569, 46.99592],
                [11.40566, 46.99648],
                [11.40626, 46.99691],
                [11.40642, 46.99705],
                [11.40646, 46.99722],
                [11.40626, 46.99824],
                [11.40593, 46.99831],
                [11.40607, 46.99883],
                [11.40585, 46.99907],
                [11.40551, 46.99931],
                [11.40547, 46.9994],
                [11.40486, 46.99994],
                [11.40421, 47.00044],
                [11.4039, 47.00143],
                [11.40357, 47.00188],
                [11.40316, 47.00215],
                [11.40296, 47.00237],
                [11.40225, 47.00256],
                [11.40184, 47.00278],
                [11.40161, 47.0031],
                [11.40156, 47.00343],
                [11.40165, 47.00443],
                [11.40188, 47.00484],
                [11.40191, 47.00523],
                [11.40219, 47.00559],
                [11.40259, 47.00581],
                [11.40244, 47.0063],
                [11.40272, 47.00662],
                [11.40299, 47.00673],
                [11.40412, 47.00688],
                [11.4047, 47.00706],
                [11.40518, 47.00714],
                [11.40553, 47.0075],
                [11.40598, 47.00774],
                [11.4063, 47.00799],
                [11.4071, 47.00831],
                [11.40734, 47.00846],
                [11.40753, 47.00864],
                [11.40789, 47.00919],
                [11.408, 47.0095],
                [11.40811, 47.00956],
                [11.40794, 47.00941],
                [11.40811, 47.00955],
                [11.409, 47.01001],
                [11.40931, 47.01033],
                [11.40953, 47.01044],
                [11.4096, 47.01056],
                [11.40942, 47.01074],
                [11.40922, 47.01079],
                [11.40836, 47.01166],
                [11.40837, 47.01197],
                [11.40879, 47.01213],
                [11.40922, 47.01238],
                [11.40982, 47.01288],
                [11.4102, 47.01335],
                [11.41042, 47.01351],
                [11.41076, 47.01315],
                [11.41088, 47.01319],
                [11.41089, 47.01301],
                [11.41081, 47.01303]
            ]
        }
    }



    it("should return a FeatureCollection of 1 intersecting features including Gr√ºnerbach and excluding Mandlerbach", () => {
        const result = findIntersectingFeatures(waterwaysGeoJSON, routeGeoJSON);
        expect(result.type).toBe("FeatureCollection");
        expect(result.features.length).toBe(1);
        expect(result.features[0].properties.name).toBe("Gr√ºnerbach")

    });
});

describe("findIntersectingFeatures", () => {

    const waterwaysGeoJSON: FeatureCollection<LineString | MultiLineString>
        = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "id": "way/150976711",
                "properties": {
                    "name": "Mandlerbach",
                    "source": "GeoImage.at; data.tirol.gv.at",
                    "waterway": "stream",
                    "id": "way/150976711"
                },
                "geometry": {
                    "type": "LineString",
                    "coordinates": []
                }
            }
        ]
    }


    const routeGeoJSON: Feature<LineString> = {
        "type": "Feature",
        "properties": {
            "name": "The Shawshank Shredemption ü§ô",
            "url": "https://www.strava.com/activities/10561548851"
        },
        "geometry": {
            "type": "LineString",
            "coordinates": [
                [11.41081, 47.01317],
                [11.41068, 47.01321],
                [11.41059, 47.01349],
                [11.41047, 47.01354],
                [11.41034, 47.01351],
                [11.40972, 47.01276],
                [11.40914, 47.01235],
                [11.40857, 47.01206],
                [11.40706, 47.01157],
                [11.40654, 47.01128],
                [11.40627, 47.01105],
                [11.40555, 47.01013],
                [11.40532, 47.00931],
                [11.40445, 47.00845],
                [11.40355, 47.00787],
                [11.40355, 47.00753],
                [11.40378, 47.00734],
                [11.40377, 47.00725],
                [11.40345, 47.00683],
                [11.40334, 47.00677],
                [11.40309, 47.0067],
                [11.4028, 47.00674],
                [11.40267, 47.00671],
                [11.40249, 47.00634],
                [11.40235, 47.00627],
                [11.40251, 47.00592],
                [11.40242, 47.00574],
                [11.40225, 47.0056],
                [11.40199, 47.00562],
                [11.40185, 47.00545],
                [11.40277, 47.00225],
                [11.40291, 47.00227],
                [11.40338, 47.00207],
                [11.40373, 47.00179],
                [11.40407, 47.00109],
                [11.40446, 47.0007],
                [11.4048, 47.00055],
                [11.40493, 47.00034],
                [11.40551, 46.99981],
                [11.40606, 46.99919],
                [11.40624, 46.99884],
                [11.40641, 46.9988],
                [11.40603, 46.99838],
                [11.40612, 46.99831],
                [11.40661, 46.99762],
                [11.40668, 46.99726],
                [11.40651, 46.997],
                [11.40585, 46.99655],
                [11.4058, 46.99645],
                [11.40569, 46.99598],
                [11.40575, 46.99552],
                [11.40599, 46.9954],
                [11.40594, 46.99549],
                [11.40582, 46.99543],
                [11.40605, 46.99554],
                [11.40595, 46.99546],
                [11.40582, 46.99553],
                [11.40578, 46.99562],
                [11.40582, 46.99551],
                [11.40594, 46.99554],
                [11.40587, 46.99562],
                [11.40575, 46.99556],
                [11.40585, 46.9955],
                [11.40596, 46.99558],
                [11.40584, 46.99566],
                [11.40578, 46.99556],
                [11.40561, 46.99554],
                [11.40596, 46.99547],
                [11.40573, 46.99536],
                [11.40568, 46.9946],
                [11.40586, 46.99423],
                [11.40586, 46.99404],
                [11.40595, 46.99396],
                [11.40607, 46.99393],
                [11.40676, 46.99403],
                [11.40729, 46.9939],
                [11.40784, 46.99396],
                [11.40778, 46.99388],
                [11.40756, 46.99378],
                [11.40736, 46.99314],
                [11.40693, 46.99264],
                [11.40682, 46.99259],
                [11.40699, 46.99233],
                [11.40696, 46.99204],
                [11.40706, 46.99177],
                [11.40782, 46.99118],
                [11.40794, 46.99082],
                [11.40809, 46.99037],
                [11.40793, 46.99025],
                [11.40776, 46.98993],
                [11.40781, 46.98975],
                [11.4079, 46.98968],
                [11.40829, 46.98974],
                [11.40846, 46.9896],
                [11.40843, 46.98951],
                [11.40866, 46.98941],
                [11.40869, 46.98932],
                [11.40881, 46.98937],
                [11.40899, 46.98901],
                [11.4092, 46.98899],
                [11.40931, 46.98905],
                [11.40936, 46.98887],
                [11.40925, 46.98871],
                [11.40937, 46.98863],
                [11.40937, 46.98849],
                [11.40937, 46.9885],
                [11.40928, 46.98842],
                [11.40935, 46.98862],
                [11.40938, 46.98844],
                [11.40947, 46.98836],
                [11.40972, 46.98828],
                [11.41072, 46.98762],
                [11.41084, 46.98759],
                [11.41142, 46.98715],
                [11.41183, 46.98662],
                [11.41204, 46.9865],
                [11.41217, 46.98634],
                [11.41283, 46.98601],
                [11.41322, 46.98551],
                [11.41361, 46.98513],
                [11.41405, 46.98492],
                [11.4146, 46.98443],
                [11.41502, 46.98421],
                [11.41578, 46.98359],
                [11.41618, 46.98334],
                [11.41669, 46.98269],
                [11.41753, 46.98184],
                [11.41788, 46.98117],
                [11.41804, 46.98101],
                [11.41809, 46.98083],
                [11.4183, 46.98062],
                [11.41843, 46.98035],
                [11.41891, 46.97977],
                [11.41892, 46.9794],
                [11.41904, 46.97914],
                [11.41877, 46.97906],
                [11.41862, 46.97888],
                [11.41833, 46.97895],
                [11.41825, 46.97887],
                [11.41823, 46.97858],
                [11.4181, 46.97799],
                [11.41786, 46.97783],
                [11.41748, 46.97772],
                [11.41728, 46.97759],
                [11.41715, 46.97733],
                [11.41737, 46.97679],
                [11.41736, 46.97647],
                [11.41743, 46.97629],
                [11.41781, 46.97589],
                [11.41771, 46.97572],
                [11.41775, 46.97553],
                [11.41762, 46.97545],
                [11.41702, 46.97462],
                [11.41692, 46.97426],
                [11.41628, 46.97392],
                [11.41569, 46.97369],
                [11.41556, 46.97368],
                [11.41526, 46.97331],
                [11.41481, 46.97297],
                [11.41478, 46.97288],
                [11.41466, 46.97224],
                [11.41468, 46.97151],
                [11.41446, 46.97084],
                [11.41445, 46.97055],
                [11.41417, 46.97009],
                [11.41412, 46.96979],
                [11.41401, 46.96962],
                [11.41437, 46.96956],
                [11.41435, 46.96911],
                [11.41428, 46.96903],
                [11.41454, 46.96897],
                [11.41451, 46.96879],
                [11.41432, 46.96848],
                [11.41428, 46.96805],
                [11.41416, 46.96812],
                [11.41426, 46.96803],
                [11.41433, 46.96851],
                [11.41426, 46.9687],
                [11.41413, 46.96877],
                [11.41423, 46.96884],
                [11.41417, 46.96903],
                [11.41444, 46.96943],
                [11.4143, 46.96947],
                [11.41404, 46.96942],
                [11.41397, 46.96952],
                [11.41419, 46.9697],
                [11.41409, 46.97017],
                [11.41483, 46.97114],
                [11.41475, 46.97136],
                [11.41465, 46.97142],
                [11.41475, 46.97232],
                [11.41481, 46.9724],
                [11.41514, 46.97236],
                [11.41523, 46.9725],
                [11.41559, 46.97353],
                [11.41599, 46.97365],
                [11.41615, 46.97382],
                [11.41644, 46.9738],
                [11.41636, 46.97423],
                [11.41658, 46.97432],
                [11.41674, 46.97424],
                [11.4169, 46.97425],
                [11.41675, 46.97448],
                [11.41677, 46.97481],
                [11.41704, 46.97503],
                [11.41708, 46.97524],
                [11.41729, 46.97531],
                [11.41734, 46.9754],
                [11.41721, 46.97568],
                [11.41671, 46.97594],
                [11.41674, 46.97604],
                [11.4175, 46.97617],
                [11.41775, 46.97631],
                [11.41742, 46.97634],
                [11.4175, 46.97658],
                [11.41742, 46.97667],
                [11.41741, 46.9769],
                [11.41731, 46.97698],
                [11.41705, 46.97757],
                [11.41683, 46.97781],
                [11.41676, 46.97806],
                [11.41662, 46.97825],
                [11.41663, 46.97847],
                [11.41639, 46.97876],
                [11.41629, 46.97894],
                [11.41658, 46.97904],
                [11.41621, 46.97938],
                [11.41631, 46.97953],
                [11.41622, 46.97976],
                [11.41641, 46.97989],
                [11.41628, 46.97995],
                [11.4163, 46.98004],
                [11.41643, 46.98008],
                [11.41625, 46.98024],
                [11.4164, 46.98028],
                [11.41608, 46.98051],
                [11.41606, 46.98065],
                [11.41578, 46.98086],
                [11.41585, 46.98114],
                [11.41569, 46.98142],
                [11.41545, 46.98174],
                [11.41518, 46.98195],
                [11.41453, 46.98226],
                [11.41395, 46.9824],
                [11.41358, 46.98293],
                [11.4139, 46.98287],
                [11.4144, 46.98269],
                [11.41529, 46.98264],
                [11.41563, 46.98283],
                [11.41544, 46.9834],
                [11.41547, 46.98351],
                [11.41499, 46.98426],
                [11.41458, 46.98458],
                [11.4142, 46.98501],
                [11.41328, 46.9855],
                [11.41283, 46.98603],
                [11.41244, 46.98622],
                [11.41194, 46.98662],
                [11.41167, 46.98692],
                [11.41152, 46.98727],
                [11.41092, 46.98757],
                [11.41073, 46.98791],
                [11.41041, 46.98798],
                [11.41015, 46.98817],
                [11.40955, 46.98839],
                [11.40942, 46.9884],
                [11.40933, 46.98847],
                [11.40935, 46.98881],
                [11.40925, 46.98913],
                [11.40927, 46.98923],
                [11.40939, 46.9893],
                [11.40911, 46.9893],
                [11.40869, 46.98941],
                [11.40856, 46.98947],
                [11.4084, 46.98966],
                [11.40827, 46.9897],
                [11.40826, 46.9898],
                [11.40808, 46.98999],
                [11.40811, 46.99037],
                [11.4078, 46.99121],
                [11.40732, 46.99152],
                [11.40698, 46.99188],
                [11.40695, 46.99199],
                [11.40695, 46.99272],
                [11.40744, 46.99325],
                [11.40749, 46.99373],
                [11.40755, 46.99381],
                [11.40782, 46.99392],
                [11.40774, 46.994],
                [11.40728, 46.99394],
                [11.4068, 46.99402],
                [11.40623, 46.99393],
                [11.40588, 46.99403],
                [11.40567, 46.99459],
                [11.40579, 46.99491],
                [11.40585, 46.99554],
                [11.40569, 46.99592],
                [11.40566, 46.99648],
                [11.40626, 46.99691],
                [11.40642, 46.99705],
                [11.40646, 46.99722],
                [11.40626, 46.99824],
                [11.40593, 46.99831],
                [11.40607, 46.99883],
                [11.40585, 46.99907],
                [11.40551, 46.99931],
                [11.40547, 46.9994],
                [11.40486, 46.99994],
                [11.40421, 47.00044],
                [11.4039, 47.00143],
                [11.40357, 47.00188],
                [11.40316, 47.00215],
                [11.40296, 47.00237],
                [11.40225, 47.00256],
                [11.40184, 47.00278],
                [11.40161, 47.0031],
                [11.40156, 47.00343],
                [11.40165, 47.00443],
                [11.40188, 47.00484],
                [11.40191, 47.00523],
                [11.40219, 47.00559],
                [11.40259, 47.00581],
                [11.40244, 47.0063],
                [11.40272, 47.00662],
                [11.40299, 47.00673],
                [11.40412, 47.00688],
                [11.4047, 47.00706],
                [11.40518, 47.00714],
                [11.40553, 47.0075],
                [11.40598, 47.00774],
                [11.4063, 47.00799],
                [11.4071, 47.00831],
                [11.40734, 47.00846],
                [11.40753, 47.00864],
                [11.40789, 47.00919],
                [11.408, 47.0095],
                [11.40811, 47.00956],
                [11.40794, 47.00941],
                [11.40811, 47.00955],
                [11.409, 47.01001],
                [11.40931, 47.01033],
                [11.40953, 47.01044],
                [11.4096, 47.01056],
                [11.40942, 47.01074],
                [11.40922, 47.01079],
                [11.40836, 47.01166],
                [11.40837, 47.01197],
                [11.40879, 47.01213],
                [11.40922, 47.01238],
                [11.40982, 47.01288],
                [11.4102, 47.01335],
                [11.41042, 47.01351],
                [11.41076, 47.01315],
                [11.41088, 47.01319],
                [11.41089, 47.01301],
                [11.41081, 47.01303]
            ]
        }
    }



    it("should return a empty FeatureCollection of intersecting features excluding Mandlerbach", () => {
        const result = findIntersectingFeatures(waterwaysGeoJSON, routeGeoJSON);
        expect(result.type).toBe("FeatureCollection");
        expect(result.features.length).toBe(0);

    });
});

describe("findIntersectingFeatures", () => {

    const waterwaysGeoJSON: FeatureCollection<LineString | MultiLineString>
        = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "collectedProperties": [
                        {
                            "name": "Gr√ºnerbach",
                            "source": "based on aerialview of (c) http://tiris.tirol.gv.at 2019",
                            "waterway": "stream",
                            "id": "way/207168058"
                        },
                        {
                            "layer": "-1",
                            "name": "Gr√ºnerbach",
                            "source": "based on aerialview of (c) http://tiris.tirol.gv.at 2019",
                            "tunnel": "culvert",
                            "waterway": "stream",
                            "id": "way/945594048"
                        },
                        {
                            "name": "Gr√ºnerbach",
                            "source": "based on aerialview of (c) http://tiris.tirol.gv.at 2019",
                            "waterway": "stream",
                            "id": "way/945594049"
                        }
                    ],
                    "name": "Gr√ºnerbach"
                },
                "geometry": {
                    "type": "MultiLineString",
                    "coordinates": [
                        [
                            [
                                11.4026084,
                                47.0177803
                            ],
                            [
                                11.4029883,
                                47.0175076
                            ],
                            [
                                11.4032792,
                                47.0173653
                            ],
                            [
                                11.4035837,
                                47.017251
                            ],
                            [
                                11.4039431,
                                47.0171506
                            ],
                            [
                                11.4042271,
                                47.0170573
                            ],
                            [
                                11.4046755,
                                47.016887
                            ],
                            [
                                11.4051477,
                                47.0166536
                            ],
                            [
                                11.4053633,
                                47.0164763
                            ],
                            [
                                11.4056453,
                                47.0163583
                            ],
                            [
                                11.4062321,
                                47.015933
                            ],
                            [
                                11.4064367,
                                47.0157615
                            ],
                            [
                                11.4067687,
                                47.0153705
                            ],
                            [
                                11.40698,
                                47.0152311
                            ],
                            [
                                11.4074115,
                                47.0146204
                            ],
                            [
                                11.407644,
                                47.0142479
                            ],
                            [
                                11.408033,
                                47.0139346
                            ],
                            [
                                11.4082342,
                                47.01377
                            ],
                            [
                                11.408432,
                                47.0136923
                            ],
                            [
                                11.4087607,
                                47.013642
                            ],
                            [
                                11.4088948,
                                47.0135848
                            ],
                            [
                                11.4091027,
                                47.0134568
                            ],
                            [
                                11.4094213,
                                47.0132464
                            ],
                            [
                                11.4097695,
                                47.012999
                            ]
                        ],
                        [
                            [
                                11.4097695,
                                47.012999
                            ],
                            [
                                11.4098936,
                                47.0129405
                            ]
                        ],
                        [
                            [
                                11.4098936,
                                47.0129405
                            ],
                            [
                                11.4099713,
                                47.0129057
                            ],
                            [
                                11.4102228,
                                47.0126771
                            ],
                            [
                                11.4103201,
                                47.0126153
                            ],
                            [
                                11.4103871,
                                47.0125993
                            ],
                            [
                                11.4106454,
                                47.012469
                            ],
                            [
                                11.411078,
                                47.0120117
                            ],
                            [
                                11.4112591,
                                47.0117556
                            ],
                            [
                                11.4114167,
                                47.0116115
                            ],
                            [
                                11.4117017,
                                47.0113165
                            ],
                            [
                                11.4117319,
                                47.0112388
                            ]
                        ]
                    ]
                }
            }
        ]
    }

    const routeGeoJSON: Feature<LineString> = {
        "type": "Feature",
        "properties": {
            "name": "The Shawshank Shredemption ü§ô",
            "url": "https://www.strava.com/activities/10561548851"
        },
        "geometry": {
            "type": "LineString",
            "coordinates": [
                [11.41081, 47.01317],
                [11.41068, 47.01321],
                [11.41059, 47.01349],
                [11.41047, 47.01354],
                [11.41034, 47.01351],
                [11.40972, 47.01276],
                [11.40914, 47.01235],
                [11.40857, 47.01206],
                [11.40706, 47.01157],
                [11.40654, 47.01128],
                [11.40627, 47.01105],
                [11.40555, 47.01013],
                [11.40532, 47.00931],
                [11.40445, 47.00845],
                [11.40355, 47.00787],
                [11.40355, 47.00753],
                [11.40378, 47.00734],
                [11.40377, 47.00725],
                [11.40345, 47.00683],
                [11.40334, 47.00677],
                [11.40309, 47.0067],
                [11.4028, 47.00674],
                [11.40267, 47.00671],
                [11.40249, 47.00634],
                [11.40235, 47.00627],
                [11.40251, 47.00592],
                [11.40242, 47.00574],
                [11.40225, 47.0056],
                [11.40199, 47.00562],
                [11.40185, 47.00545],
                [11.40277, 47.00225],
                [11.40291, 47.00227],
                [11.40338, 47.00207],
                [11.40373, 47.00179],
                [11.40407, 47.00109],
                [11.40446, 47.0007],
                [11.4048, 47.00055],
                [11.40493, 47.00034],
                [11.40551, 46.99981],
                [11.40606, 46.99919],
                [11.40624, 46.99884],
                [11.40641, 46.9988],
                [11.40603, 46.99838],
                [11.40612, 46.99831],
                [11.40661, 46.99762],
                [11.40668, 46.99726],
                [11.40651, 46.997],
                [11.40585, 46.99655],
                [11.4058, 46.99645],
                [11.40569, 46.99598],
                [11.40575, 46.99552],
                [11.40599, 46.9954],
                [11.40594, 46.99549],
                [11.40582, 46.99543],
                [11.40605, 46.99554],
                [11.40595, 46.99546],
                [11.40582, 46.99553],
                [11.40578, 46.99562],
                [11.40582, 46.99551],
                [11.40594, 46.99554],
                [11.40587, 46.99562],
                [11.40575, 46.99556],
                [11.40585, 46.9955],
                [11.40596, 46.99558],
                [11.40584, 46.99566],
                [11.40578, 46.99556],
                [11.40561, 46.99554],
                [11.40596, 46.99547],
                [11.40573, 46.99536],
                [11.40568, 46.9946],
                [11.40586, 46.99423],
                [11.40586, 46.99404],
                [11.40595, 46.99396],
                [11.40607, 46.99393],
                [11.40676, 46.99403],
                [11.40729, 46.9939],
                [11.40784, 46.99396],
                [11.40778, 46.99388],
                [11.40756, 46.99378],
                [11.40736, 46.99314],
                [11.40693, 46.99264],
                [11.40682, 46.99259],
                [11.40699, 46.99233],
                [11.40696, 46.99204],
                [11.40706, 46.99177],
                [11.40782, 46.99118],
                [11.40794, 46.99082],
                [11.40809, 46.99037],
                [11.40793, 46.99025],
                [11.40776, 46.98993],
                [11.40781, 46.98975],
                [11.4079, 46.98968],
                [11.40829, 46.98974],
                [11.40846, 46.9896],
                [11.40843, 46.98951],
                [11.40866, 46.98941],
                [11.40869, 46.98932],
                [11.40881, 46.98937],
                [11.40899, 46.98901],
                [11.4092, 46.98899],
                [11.40931, 46.98905],
                [11.40936, 46.98887],
                [11.40925, 46.98871],
                [11.40937, 46.98863],
                [11.40937, 46.98849],
                [11.40937, 46.9885],
                [11.40928, 46.98842],
                [11.40935, 46.98862],
                [11.40938, 46.98844],
                [11.40947, 46.98836],
                [11.40972, 46.98828],
                [11.41072, 46.98762],
                [11.41084, 46.98759],
                [11.41142, 46.98715],
                [11.41183, 46.98662],
                [11.41204, 46.9865],
                [11.41217, 46.98634],
                [11.41283, 46.98601],
                [11.41322, 46.98551],
                [11.41361, 46.98513],
                [11.41405, 46.98492],
                [11.4146, 46.98443],
                [11.41502, 46.98421],
                [11.41578, 46.98359],
                [11.41618, 46.98334],
                [11.41669, 46.98269],
                [11.41753, 46.98184],
                [11.41788, 46.98117],
                [11.41804, 46.98101],
                [11.41809, 46.98083],
                [11.4183, 46.98062],
                [11.41843, 46.98035],
                [11.41891, 46.97977],
                [11.41892, 46.9794],
                [11.41904, 46.97914],
                [11.41877, 46.97906],
                [11.41862, 46.97888],
                [11.41833, 46.97895],
                [11.41825, 46.97887],
                [11.41823, 46.97858],
                [11.4181, 46.97799],
                [11.41786, 46.97783],
                [11.41748, 46.97772],
                [11.41728, 46.97759],
                [11.41715, 46.97733],
                [11.41737, 46.97679],
                [11.41736, 46.97647],
                [11.41743, 46.97629],
                [11.41781, 46.97589],
                [11.41771, 46.97572],
                [11.41775, 46.97553],
                [11.41762, 46.97545],
                [11.41702, 46.97462],
                [11.41692, 46.97426],
                [11.41628, 46.97392],
                [11.41569, 46.97369],
                [11.41556, 46.97368],
                [11.41526, 46.97331],
                [11.41481, 46.97297],
                [11.41478, 46.97288],
                [11.41466, 46.97224],
                [11.41468, 46.97151],
                [11.41446, 46.97084],
                [11.41445, 46.97055],
                [11.41417, 46.97009],
                [11.41412, 46.96979],
                [11.41401, 46.96962],
                [11.41437, 46.96956],
                [11.41435, 46.96911],
                [11.41428, 46.96903],
                [11.41454, 46.96897],
                [11.41451, 46.96879],
                [11.41432, 46.96848],
                [11.41428, 46.96805],
                [11.41416, 46.96812],
                [11.41426, 46.96803],
                [11.41433, 46.96851],
                [11.41426, 46.9687],
                [11.41413, 46.96877],
                [11.41423, 46.96884],
                [11.41417, 46.96903],
                [11.41444, 46.96943],
                [11.4143, 46.96947],
                [11.41404, 46.96942],
                [11.41397, 46.96952],
                [11.41419, 46.9697],
                [11.41409, 46.97017],
                [11.41483, 46.97114],
                [11.41475, 46.97136],
                [11.41465, 46.97142],
                [11.41475, 46.97232],
                [11.41481, 46.9724],
                [11.41514, 46.97236],
                [11.41523, 46.9725],
                [11.41559, 46.97353],
                [11.41599, 46.97365],
                [11.41615, 46.97382],
                [11.41644, 46.9738],
                [11.41636, 46.97423],
                [11.41658, 46.97432],
                [11.41674, 46.97424],
                [11.4169, 46.97425],
                [11.41675, 46.97448],
                [11.41677, 46.97481],
                [11.41704, 46.97503],
                [11.41708, 46.97524],
                [11.41729, 46.97531],
                [11.41734, 46.9754],
                [11.41721, 46.97568],
                [11.41671, 46.97594],
                [11.41674, 46.97604],
                [11.4175, 46.97617],
                [11.41775, 46.97631],
                [11.41742, 46.97634],
                [11.4175, 46.97658],
                [11.41742, 46.97667],
                [11.41741, 46.9769],
                [11.41731, 46.97698],
                [11.41705, 46.97757],
                [11.41683, 46.97781],
                [11.41676, 46.97806],
                [11.41662, 46.97825],
                [11.41663, 46.97847],
                [11.41639, 46.97876],
                [11.41629, 46.97894],
                [11.41658, 46.97904],
                [11.41621, 46.97938],
                [11.41631, 46.97953],
                [11.41622, 46.97976],
                [11.41641, 46.97989],
                [11.41628, 46.97995],
                [11.4163, 46.98004],
                [11.41643, 46.98008],
                [11.41625, 46.98024],
                [11.4164, 46.98028],
                [11.41608, 46.98051],
                [11.41606, 46.98065],
                [11.41578, 46.98086],
                [11.41585, 46.98114],
                [11.41569, 46.98142],
                [11.41545, 46.98174],
                [11.41518, 46.98195],
                [11.41453, 46.98226],
                [11.41395, 46.9824],
                [11.41358, 46.98293],
                [11.4139, 46.98287],
                [11.4144, 46.98269],
                [11.41529, 46.98264],
                [11.41563, 46.98283],
                [11.41544, 46.9834],
                [11.41547, 46.98351],
                [11.41499, 46.98426],
                [11.41458, 46.98458],
                [11.4142, 46.98501],
                [11.41328, 46.9855],
                [11.41283, 46.98603],
                [11.41244, 46.98622],
                [11.41194, 46.98662],
                [11.41167, 46.98692],
                [11.41152, 46.98727],
                [11.41092, 46.98757],
                [11.41073, 46.98791],
                [11.41041, 46.98798],
                [11.41015, 46.98817],
                [11.40955, 46.98839],
                [11.40942, 46.9884],
                [11.40933, 46.98847],
                [11.40935, 46.98881],
                [11.40925, 46.98913],
                [11.40927, 46.98923],
                [11.40939, 46.9893],
                [11.40911, 46.9893],
                [11.40869, 46.98941],
                [11.40856, 46.98947],
                [11.4084, 46.98966],
                [11.40827, 46.9897],
                [11.40826, 46.9898],
                [11.40808, 46.98999],
                [11.40811, 46.99037],
                [11.4078, 46.99121],
                [11.40732, 46.99152],
                [11.40698, 46.99188],
                [11.40695, 46.99199],
                [11.40695, 46.99272],
                [11.40744, 46.99325],
                [11.40749, 46.99373],
                [11.40755, 46.99381],
                [11.40782, 46.99392],
                [11.40774, 46.994],
                [11.40728, 46.99394],
                [11.4068, 46.99402],
                [11.40623, 46.99393],
                [11.40588, 46.99403],
                [11.40567, 46.99459],
                [11.40579, 46.99491],
                [11.40585, 46.99554],
                [11.40569, 46.99592],
                [11.40566, 46.99648],
                [11.40626, 46.99691],
                [11.40642, 46.99705],
                [11.40646, 46.99722],
                [11.40626, 46.99824],
                [11.40593, 46.99831],
                [11.40607, 46.99883],
                [11.40585, 46.99907],
                [11.40551, 46.99931],
                [11.40547, 46.9994],
                [11.40486, 46.99994],
                [11.40421, 47.00044],
                [11.4039, 47.00143],
                [11.40357, 47.00188],
                [11.40316, 47.00215],
                [11.40296, 47.00237],
                [11.40225, 47.00256],
                [11.40184, 47.00278],
                [11.40161, 47.0031],
                [11.40156, 47.00343],
                [11.40165, 47.00443],
                [11.40188, 47.00484],
                [11.40191, 47.00523],
                [11.40219, 47.00559],
                [11.40259, 47.00581],
                [11.40244, 47.0063],
                [11.40272, 47.00662],
                [11.40299, 47.00673],
                [11.40412, 47.00688],
                [11.4047, 47.00706],
                [11.40518, 47.00714],
                [11.40553, 47.0075],
                [11.40598, 47.00774],
                [11.4063, 47.00799],
                [11.4071, 47.00831],
                [11.40734, 47.00846],
                [11.40753, 47.00864],
                [11.40789, 47.00919],
                [11.408, 47.0095],
                [11.40811, 47.00956],
                [11.40794, 47.00941],
                [11.40811, 47.00955],
                [11.409, 47.01001],
                [11.40931, 47.01033],
                [11.40953, 47.01044],
                [11.4096, 47.01056],
                [11.40942, 47.01074],
                [11.40922, 47.01079],
                [11.40836, 47.01166],
                [11.40837, 47.01197],
                [11.40879, 47.01213],
                [11.40922, 47.01238],
                [11.40982, 47.01288],
                [11.4102, 47.01335],
                [11.41042, 47.01351],
                [11.41076, 47.01315],
                [11.41088, 47.01319],
                [11.41089, 47.01301],
                [11.41081, 47.01303]
            ]
        }
    }



    it("should return a FeatureCollection with a single feature Gr√ºnerbach", () => {
        const result = findIntersectingFeatures(waterwaysGeoJSON, routeGeoJSON);
        expect(result.type).toBe("FeatureCollection");
        expect(result.features.length).toBe(1);
        expect(result.features[0].properties.name).toBe("Gr√ºnerbach");

    });
});